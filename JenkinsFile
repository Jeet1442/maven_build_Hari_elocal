pipeline{
   agent any
   def mvnHome = tool 'M3'
   stages{
     stage('Checkout'){
       steps{
	     git branch: 'main', url: 'https://github.com/Jeet1442/maven_build_Hari_elocal.git'
	   }
    }
	stage('Build'){
	  steps{
	    bat 'mvn clean'
	  }
	}
	stage('Install'){
	  steps{
	    bat '${mvnHome}/bin/mvn test'
		junit '**/target/surefire-reports/TEST-*.xml'
	  }
	}
	stage('TEST'){
	  steps{
	    bat 'mvn install'
		
	  }
	}
  }
}